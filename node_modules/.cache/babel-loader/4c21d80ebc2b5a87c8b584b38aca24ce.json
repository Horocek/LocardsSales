{"ast":null,"code":"import _defineProperty from\"/Users/maximpodorogin/Desktop/Sales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/maximpodorogin/Desktop/Sales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/maximpodorogin/Desktop/Sales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/maximpodorogin/Desktop/Sales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/maximpodorogin/Desktop/Sales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/maximpodorogin/Desktop/Sales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _regeneratorRuntime from\"/Users/maximpodorogin/Desktop/Sales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/maximpodorogin/Desktop/Sales/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{Component}from\"react\";import'./App.css';import{fetchData}from'./utils/Api';import{parsSales}from'./utils/Tools';var getInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(login,pass,card){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=parsSales;_context.next=3;return fetchData(login,pass,card);case 3:_context.t1=_context.sent;_context.next=6;return(0,_context.t0)(_context.t1);case 6:return _context.abrupt(\"return\",_context.sent);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getInfo(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var cardIndex=0;var salesIndex=1;var ListItem=function ListItem(props){return/*#__PURE__*/React.createElement(\"h\",{style:{color:'green'}},props.value);};var InputCreds=/*#__PURE__*/function(_Component){_inherits(InputCreds,_Component);var _super=_createSuper(InputCreds);function InputCreds(){var _this;_classCallCheck(this,InputCreds);_this=_super.call(this);_this.state={login:'Login',pass:'Pass',card:'card number',cardInfo:[false,[]]};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(InputCreds,[{key:\"handleChange\",value:function handleChange(event){var target=event.target;var value=target.value;var name=target.name;this.setState(_defineProperty({},name,value));}},{key:\"buttonGetSales\",value:function(){var _buttonGetSales=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=this;_context2.next=3;return getInfo(this.state.login,this.state.pass,this.state.card);case 3:_context2.t1=_context2.sent;_context2.t2={cardInfo:_context2.t1};_context2.t0.setState.call(_context2.t0,_context2.t2);case 6:case\"end\":return _context2.stop();}}},_callee2,this);}));function buttonGetSales(){return _buttonGetSales.apply(this,arguments);}return buttonGetSales;}()},{key:\"salesDraw\",value:function salesDraw(props){if(this.state.cardInfo[0]===false)return/*#__PURE__*/React.createElement(\"div\",null,this.state.cardInfo[1]);var array=this.state.cardInfo[salesIndex];return/*#__PURE__*/React.createElement(\"ul\",null,array.map(function(item){return/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(ListItem,{value:\"\\n                    \\u0414\\u0430\\u0442\\u0430 \\u043E\\u043F\\u0435\\u0440\\u0430\\u0446\\u0438\\u0438 - \".concat(item.date,\" \\n                    \\u0441\\u0443\\u043C\\u043C\\u0430 \\u0447\\u0435\\u043A\\u0430 - \").concat(item.amount,\" \\n                    \\u043D\\u0430\\u043A\\u043E\\u043F\\u043B\\u0435\\u043D\\u043D\\u043E \\u0431\\u043E\\u043D\\u0443\\u0441\\u043E\\u0432 - \").concat(item.charge,\" \\n                    \\u0441\\u043F\\u0438\\u0441\\u0430\\u043D\\u043E \\u0431\\u043E\\u043D\\u0443\\u0441\\u043E\\u0432 - \").concat(item.write)}));}));}},{key:\"cardInfoDraw\",value:function cardInfoDraw(props){if(this.state.cardInfo[0]===false)return/*#__PURE__*/React.createElement(\"div\",null);var card=this.state.cardInfo[cardIndex];return/*#__PURE__*/React.createElement(\"div\",null,\"\\u0412\\u043B\\u0430\\u0434\\u0435\\u043B\\u0435\\u0446 \\u043A\\u0430\\u0440\\u0442\\u044B : \",card.lastName,\" \",card.firstName,/*#__PURE__*/React.createElement(\"br\",null),\"\\u0414\\u0435\\u043D\\u044C \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F : \",card.birthday,/*#__PURE__*/React.createElement(\"br\",null),\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D : \",card.phone,/*#__PURE__*/React.createElement(\"br\",null),\"\\u0411\\u0430\\u043B\\u0430\\u043D\\u0441 : \",card.balance,/*#__PURE__*/React.createElement(\"br\",null),\"\\u041A\\u0435\\u0448\\u0431\\u0435\\u043A : \",card.cashback,\"% \",/*#__PURE__*/React.createElement(\"br\",null),\"\\u0421\\u043A\\u0438\\u0434\\u043A\\u0430 : \",card.discount,\"%\",/*#__PURE__*/React.createElement(\"br\",null));}},{key:\"inputForm\",value:function inputForm(){return/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"label\",null,\"\\u041B\\u043E\\u0433\\u0438\\u043D:\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"login\",onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"pass\",onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u043A\\u0430\\u0440\\u0442\\u044B:\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"card\",onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)));}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this2.buttonGetSales();case 2:case\"end\":return _context3.stop();}}},_callee3);}))},\" \\u041F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u044C \"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),this.inputForm(),this.cardInfoDraw(),this.salesDraw());}}]);return InputCreds;}(Component);export{InputCreds};","map":{"version":3,"sources":["/Users/maximpodorogin/Desktop/Sales/src/App.js"],"names":["React","Component","fetchData","parsSales","getInfo","login","pass","card","cardIndex","salesIndex","ListItem","props","color","value","InputCreds","state","cardInfo","handleChange","bind","event","target","name","setState","array","map","item","date","amount","charge","write","lastName","firstName","birthday","phone","balance","cashback","discount","buttonGetSales","inputForm","cardInfoDraw","salesDraw"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport './App.css';\nimport {fetchData} from './utils/Api'\nimport {parsSales} from './utils/Tools'\n\n\nconst getInfo = async (login, pass, card) =>  await parsSales(await fetchData(login, pass, card));\nconst cardIndex = 0;\nconst salesIndex = 1;\nconst  ListItem = (props) => \n{\n    return <h style={{ color: 'green' }}>{props.value}</h>;\n}\n\n\nclass InputCreds extends Component \n{\n    constructor(){\n        super();\n        this.state = {\n            login: 'Login',\n            pass: 'Pass',\n            card: 'card number',\n            cardInfo : [false,[]],\n        };\n        this.handleChange = this.handleChange.bind(this);\n  \n    }\n\n    handleChange(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n        this.setState({\n            [name]: value\n        });\n    }\n\n\n    async buttonGetSales() {\n        this.setState({cardInfo : await getInfo(this.state.login, this.state.pass, this.state.card)})\n    }\n\n    salesDraw(props){\n        \n        if (this.state.cardInfo[0] === false) return(<div>{this.state.cardInfo[1]}</div>);\n        const array = this.state.cardInfo[salesIndex];\n         return(\n            <ul>\n                {\n                array.map((item) => {\n                return <ul>\n                    <ListItem value={`\n                    Дата операции - ${item.date} \n                    сумма чека - ${item.amount} \n                    накопленно бонусов - ${item.charge} \n                    списано бонусов - ${item.write}`}/> \n                    </ul>\n                }\n                )}\n            </ul>\n        )\n        \n    }\n    cardInfoDraw(props){\n        \n        if (this.state.cardInfo[0] === false) return(<div></div>);\n        const card = this.state.cardInfo[cardIndex];\n         return(\n            <div>\n                Владелец карты : {card.lastName} {card.firstName}<br></br>\n                День рождения : {card.birthday}<br></br>\n                Телефон : {card.phone}<br></br>\n                Баланс : {card.balance}<br></br>\n                Кешбек : {card.cashback}% <br></br>\n                Скидка : {card.discount}%<br></br>\n            </div>\n        )\n        \n    }\n    \n\n    inputForm(){\n         return(\n            <form>\n            <label>\n              Логин:\n              <input type=\"text\" name=\"login\" onChange={this.handleChange}/><br></br><br></br>\n              Пароль:\n              <input type=\"text\" name='pass' onChange={this.handleChange} /><br></br><br></br>\n              Номер карты:\n              <input type=\"text\" name='card' onChange={this.handleChange} /><br></br><br></br>\n            </label>\n          </form>\n        )   \n    }\n    render() {\n        \n        return (\n            <div> \n            <button onClick = { \n                async () => {\n                await this.buttonGetSales();\n                }\n            }> Получить </button><br></br><br></br><br></br><br></br>\n           {this.inputForm()}\n           {this.cardInfoDraw()}\n           {this.salesDraw()}\n        </div>\n        );\n    }\n}  \n\n\nexport {InputCreds};\n"]},"metadata":{},"sourceType":"module"}